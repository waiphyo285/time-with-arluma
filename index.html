<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="./public/images/blue-heart-icon.png" />
    <title>Time with Arluma</title>

    <!-- styles -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <link rel="stylesheet" href="./public/css/styles.css" />
    <!-- <link rel="stylesheet" href="./public/css/fireworks.css" /> -->

    <!-- moment js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.25.1/moment.min.js"></script>

    <!-- Google Ads -->
    <!-- <script data-ad-client="ca-pub-5937765593282204" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->
  </head>

  <body class="body" onload="clickBody()">
    <section class="section-center">
      <!-- image -->
      <article class="img-container">
        <img src="./public/images/our-anni.png" alt="Cover Photo" />
        <div class="overlay">
          <h1 class="overlay-text" id="overlay-text"></h1>
        </div>
      </article>
      <!-- info -->
      <article class="count-info">
        <h3>To My Arluma <span class="dot"></span></h3>
        <span class="count-start"> Starting on Tuesday, 26 July 2016 </span>
        <p>
          You're the one who enters my life from nowhere but suddenly becomes my
          world itself. I can't go anywhere without you as I know it’s always
          better when we’re together.
        </p>
        <div class="count-time">
          <!-- years -->
          <div class="count-time-format">
            <div>
              <h4 class="years">00</h4>
              <span>years</span>
            </div>
          </div>
          <!-- end of years -->
          <!-- months -->
          <div class="count-time-format">
            <div>
              <h4 class="mons">00</h4>
              <span>mons</span>
            </div>
          </div>
          <!-- end of months -->
          <!-- days -->
          <div class="count-time-format">
            <div>
              <h4 class="days">00</h4>
              <span>days</span>
            </div>
          </div>
          <!-- end of days -->
          <!-- days -->
          <div class="count-time-format">
            <div>
              <h4 class="hours">00</h4>
              <span>hours</span>
            </div>
          </div>
          <!-- end of days -->
          <!-- minutes -->
          <div class="count-time-format">
            <div>
              <h4 class="mins">00</h4>
              <span>mins</span>
            </div>
          </div>
          <!-- end of days -->
          <!-- minutes -->
          <div class="count-time-format">
            <div>
              <h4 class="secs">00</h4>
              <span>secs</span>
            </div>
          </div>
          <!-- end of days -->
        </div>
      </article>
    </section>

    <hr class="hr" />

    <section class="quote-section">
      <p class="quote-paragraph">
        <span class="quote-start">A</span>
        rluma, happy 5<sup>th</sup> anniversary! On this day I can't help but
        remember the happiest episodes of our love and imagine what will be our
        future, full of love until the last day of our lives. You're the person
        in whom I find a lover, a best friend, and the kindest soul I've ever
        seen. It's not easy to put up with me, but your patience brings us from
        the start to the present. Thank you so much for being with me, for
        believing me. Happy Anniversary.
        <!-- <span class="quote-end"></span> -->
      </p>
    </section>

    <!-- javascript -->
    <!-- <script src="./public/js/app.js"></script> -->
    <script>
      const body = document.querySelector(".body");
      body.style.backgroundImage = `linear-gradient(-135deg, rgba(44, 44, 88, 0.6) 2.5%, ${randomColor(
        0.15
      )} 2.5% 100%)`;

      var x = setInterval(function () {
        const diffDuration = moment.duration(
          moment(new Date()).diff(moment("2016-07-26 00:00"))
        );
        // console.log(Math.floor(diffDuration.asDays()));
        const items = document.querySelectorAll(".count-time-format h4");
        const timeDiff = [];

        const getDiffTime = () => {
          diffDuration.years() > 0
            ? timeDiff.push(`${("0" + diffDuration.years()).slice(-2)}`)
            : 00;
          0 < diffDuration.months() < 12
            ? timeDiff.push(`${("0" + diffDuration.months()).slice(-2)}`)
            : 00;
          0 < diffDuration.days() < 30
            ? timeDiff.push(`${("0" + diffDuration.days()).slice(-2)}`)
            : 00;
          0 < diffDuration.hours() < 24
            ? timeDiff.push(`${("0" + diffDuration.hours()).slice(-2)}`)
            : 00;
          0 < diffDuration.minutes() < 60
            ? timeDiff.push(`${("0" + diffDuration.minutes()).slice(-2)}`)
            : 00;
          0 < diffDuration.seconds() < 60
            ? timeDiff.push(`${("0" + diffDuration.seconds()).slice(-2)}`)
            : 00;
          // 0 < diffDuration.milliseconds() < 60 ? timeDiff.push(`${diffDuration.milliseconds()}`) : 0;
          return timeDiff;
        };
        getDiffTime();

        const overlayText = document.getElementById("overlay-text");
        overlayText.innerHTML = Math.floor(diffDuration.asDays()) + " Days";

        items.forEach((val, index) => {
          val.innerHTML = timeDiff[index];
        });
      }, 1000);

      // Slider section

      function randomColor(opacity) {
        getNumber = () => Math.floor(Math.random() * 255);
        return `rgba(${getNumber()}, ${getNumber()}, ${getNumber()}, ${opacity})`;
      }

      function clickBody() {
        setTimeout(
          function () {
            (function fadeOut() {
              body.style.opacity = 0;
            })();
            (function fadeIn() {
              body.style.opacity = 1;
              body.style.backgroundImage = `linear-gradient(-135deg, rgba(44, 44, 88, 0.6) 2.5%, ${randomColor(
                0.15
              )} 2.5% 100%)`;
            })();
            body.onload();
          },
          5000,
          this
        );
      }
    </script>
  </body>
</html>
